import{ag as Se,a0 as we,a1 as Pe,Q as c,a2 as Te,aN as Ke,d as N,a5 as q,r as G,aO as Be,a9 as Fe,k as U,O as k,C as d,X as y,aQ as Q,b5 as ue,J as Ie,aS as fe,S as w,bp as ze,bd as Ne,be as Me,aC as Ue,bf as Oe,s as S,T as Z,e as ae,P as Qe,bq as qe,br as Ye,a4 as Je,af as Ze,Y as V,aK as ie,aa as eo,o as oo,bb as no,aR as to,aM as lo,bs as ao,bt as io,bu as me,bv as ro,bw as so,bx as co,by as uo,aP as fo,I as mo,H as po}from"./CXt9CpHx.js";import{a9 as go,aa as Ae,ab as vo,ac as Co,o as re,a4 as yo,C as bo,E as xo,ad as $o,B as te,D as He,ae as ho,a0 as So,af as wo}from"./BiSs8nCf.js";import{K as pe}from"./_QCYz8aP.js";import{p as Po}from"./BQfcw6q0.js";const To=new Se("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Bo=new Se("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Fo=function(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:t}=e,n=`${t}-fade`,a=o?"&":"";return[go(n,To,Bo,e.motionDurationMid,o),{[`
        ${a}${n}-enter,
        ${a}${n}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${n}-leave`]:{animationTimingFunction:"linear"}}]},Io=e=>{const{componentCls:o,popoverBg:t,popoverColor:n,width:a,fontWeightStrong:s,popoverPadding:f,boxShadowSecondary:g,colorTextHeading:C,borderRadiusLG:m,zIndexPopup:u,marginXS:r,colorBgElevated:l}=e;return[{[o]:c(c({},Te(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":l,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${o}-content`]:{position:"relative"},[`${o}-inner`]:{backgroundColor:t,backgroundClip:"padding-box",borderRadius:m,boxShadow:g,padding:f},[`${o}-title`]:{minWidth:a,marginBottom:r,color:C,fontWeight:s},[`${o}-inner-content`]:{color:n}})},vo(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${o}-pure`]:{position:"relative",maxWidth:"none",[`${o}-content`]:{display:"inline-block"}}}]},zo=e=>{const{componentCls:o}=e;return{[o]:Co.map(t=>{const n=e[`${t}-6`];return{[`&${o}-${t}`]:{"--antd-arrow-background-color":n,[`${o}-inner`]:{backgroundColor:n},[`${o}-arrow`]:{background:"transparent"}}}})}},No=e=>{const{componentCls:o,lineWidth:t,lineType:n,colorSplit:a,paddingSM:s,controlHeight:f,fontSize:g,lineHeight:C,padding:m}=e,u=f-Math.round(g*C),r=u/2,l=u/2-t,i=m;return{[o]:{[`${o}-inner`]:{padding:0},[`${o}-title`]:{margin:0,padding:`${r}px ${i}px ${l}px`,borderBottom:`${t}px ${n} ${a}`},[`${o}-inner-content`]:{padding:`${s}px ${i}px`}}}},Mo=we("Popover",e=>{const{colorBgElevated:o,colorText:t,wireframe:n}=e,a=Pe(e,{popoverBg:o,popoverColor:t,popoverPadding:12});return[Io(a),zo(a),n&&No(a),Ae(a,"zoom-big")]},e=>{let{zIndexPopupBase:o}=e;return{zIndexPopup:o+30,width:177}}),Oo=()=>c(c({},xo()),{content:fe(),title:fe()}),Ao=N({compatConfig:{MODE:3},name:"APopover",inheritAttrs:!1,props:q(Oo(),c(c({},bo()),{trigger:"hover",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup(e,o){let{expose:t,slots:n,attrs:a}=o;const s=G();Be(e.visible===void 0),t({getPopupDomNode:()=>{var l,i;return(i=(l=s.value)===null||l===void 0?void 0:l.getPopupDomNode)===null||i===void 0?void 0:i.call(l)}});const{prefixCls:f,configProvider:g}=Fe("popover",e),[C,m]=Mo(f),u=U(()=>g.getPrefixCls()),r=()=>{var l,i;const{title:p=ue((l=n.title)===null||l===void 0?void 0:l.call(n)),content:b=ue((i=n.content)===null||i===void 0?void 0:i.call(n))}=e,$=!!(Array.isArray(p)?p.length:p),v=!!(Array.isArray(b)?b.length:p);return!$&&!v?null:d(Ie,null,[$&&d("div",{class:`${f.value}-title`},[p]),d("div",{class:`${f.value}-inner-content`},[b])])};return()=>{const l=k(e.overlayClassName,m.value);return C(d(yo,y(y(y({},re(e,["title","content"])),a),{},{prefixCls:f.value,ref:s,overlayClassName:l,transitionName:Q(u.value,"zoom-big",e.transitionName),"data-popover-inject":!0}),{title:r,default:n.default}))}}}),cn=Ke(Ao);function se(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:w.shape({x:Number,y:Number}).loose,title:w.any,footer:w.any,transitionName:String,maskTransitionName:String,animation:w.any,maskAnimation:w.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:w.any,maskProps:w.any,wrapProps:w.any,getContainer:w.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:w.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function ge(e,o,t){let n=o;return!n&&t&&(n=`${e}-${t}`),n}let ve=-1;function Ho(){return ve+=1,ve}function Ce(e,o){let t=e[`page${o?"Y":"X"}Offset`];const n=`scroll${o?"Top":"Left"}`;if(typeof t!="number"){const a=e.document;t=a.documentElement[n],typeof t!="number"&&(t=a.body[n])}return t}function Ro(e){const o=e.getBoundingClientRect(),t={left:o.left,top:o.top},n=e.ownerDocument,a=n.defaultView||n.parentWindow;return t.left+=Ce(a),t.top+=Ce(a,!0),t}const Do={width:0,height:0,overflow:"hidden",outline:"none"},Eo={outline:"none"},Lo=N({compatConfig:{MODE:3},name:"DialogContent",inheritAttrs:!1,props:c(c({},se()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup(e,o){let{expose:t,slots:n,attrs:a}=o;const s=G(),f=G(),g=G();t({focus:()=>{var l;(l=s.value)===null||l===void 0||l.focus({preventScroll:!0})},changeActive:l=>{const{activeElement:i}=document;l&&i===f.value?s.value.focus({preventScroll:!0}):!l&&i===s.value&&f.value.focus({preventScroll:!0})}});const C=G(),m=U(()=>{const{width:l,height:i}=e,p={};return l!==void 0&&(p.width=typeof l=="number"?`${l}px`:l),i!==void 0&&(p.height=typeof i=="number"?`${i}px`:i),C.value&&(p.transformOrigin=C.value),p}),u=()=>{Ue(()=>{if(g.value){const l=Ro(g.value);C.value=e.mousePosition?`${e.mousePosition.x-l.left}px ${e.mousePosition.y-l.top}px`:""}})},r=l=>{e.onVisibleChanged(l)};return()=>{var l,i,p,b;const{prefixCls:$,footer:v=(l=n.footer)===null||l===void 0?void 0:l.call(n),title:h=(i=n.title)===null||i===void 0?void 0:i.call(n),ariaId:x,closable:P,closeIcon:T=(p=n.closeIcon)===null||p===void 0?void 0:p.call(n),onClose:F,bodyStyle:I,bodyProps:M,onMousedown:O,onMouseup:H,visible:E,modalRender:L=n.modalRender,destroyOnClose:X,motionName:A}=e;let W;v&&(W=d("div",{class:`${$}-footer`},[v]));let _;h&&(_=d("div",{class:`${$}-header`},[d("div",{class:`${$}-title`,id:x},[h])]));let R;P&&(R=d("button",{type:"button",onClick:F,"aria-label":"Close",class:`${$}-close`},[T||d("span",{class:`${$}-close-x`},null)]));const z=d("div",{class:`${$}-content`},[R,_,d("div",y({class:`${$}-body`,style:I},M),[(b=n.default)===null||b===void 0?void 0:b.call(n)]),W]),ee=ze(A);return d(Ne,y(y({},ee),{},{onBeforeEnter:u,onAfterEnter:()=>r(!0),onAfterLeave:()=>r(!1)}),{default:()=>[E||!X?Me(d("div",y(y({},a),{},{ref:g,key:"dialog-element",role:"document",style:[m.value,a.style],class:[$,a.class],onMousedown:O,onMouseup:H}),[d("div",{tabindex:0,ref:s,style:Eo},[L?L({originVNode:z}):z]),d("div",{tabindex:0,ref:f,style:Do},null)]),[[Oe,E]]):null]})}}}),Wo=N({compatConfig:{MODE:3},name:"DialogMask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup(e,o){return()=>{const{prefixCls:t,visible:n,maskProps:a,motionName:s}=e,f=ze(s);return d(Ne,f,{default:()=>[Me(d("div",y({class:`${t}-mask`},a),null),[[Oe,n]])]})}}}),ye=N({compatConfig:{MODE:3},name:"VcDialog",inheritAttrs:!1,props:q(c(c({},se()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:()=>null,focusTriggerAfterClose:!0}),setup(e,o){let{attrs:t,slots:n}=o;const a=S(),s=S(),f=S(),g=S(e.visible),C=S(`vcDialogTitle${Ho()}`),m=v=>{var h,x;if(v)qe(s.value,document.activeElement)||(a.value=document.activeElement,(h=f.value)===null||h===void 0||h.focus());else{const P=g.value;if(g.value=!1,e.mask&&a.value&&e.focusTriggerAfterClose){try{a.value.focus({preventScroll:!0})}catch{}a.value=null}P&&((x=e.afterClose)===null||x===void 0||x.call(e))}},u=v=>{var h;(h=e.onClose)===null||h===void 0||h.call(e,v)},r=S(!1),l=S(),i=()=>{clearTimeout(l.value),r.value=!0},p=()=>{l.value=setTimeout(()=>{r.value=!1})},b=v=>{if(!e.maskClosable)return null;r.value?r.value=!1:s.value===v.target&&u(v)},$=v=>{if(e.keyboard&&v.keyCode===pe.ESC){v.stopPropagation(),u(v);return}e.visible&&v.keyCode===pe.TAB&&f.value.changeActive(!v.shiftKey)};return Z(()=>e.visible,()=>{e.visible&&(g.value=!0)},{flush:"post"}),ae(()=>{var v;clearTimeout(l.value),(v=e.scrollLocker)===null||v===void 0||v.unLock()}),Qe(()=>{var v,h;(v=e.scrollLocker)===null||v===void 0||v.unLock(),g.value&&((h=e.scrollLocker)===null||h===void 0||h.lock())}),()=>{const{prefixCls:v,mask:h,visible:x,maskTransitionName:P,maskAnimation:T,zIndex:F,wrapClassName:I,rootClassName:M,wrapStyle:O,closable:H,maskProps:E,maskStyle:L,transitionName:X,animation:A,wrapProps:W,title:_=n.title}=e,{style:R,class:z}=t;return d("div",y({class:[`${v}-root`,M]},Po(e,{data:!0})),[d(Wo,{prefixCls:v,visible:h&&x,motionName:ge(v,P,T),style:c({zIndex:F},L),maskProps:E},null),d("div",y({tabIndex:-1,onKeydown:$,class:k(`${v}-wrap`,I),ref:s,onClick:b,role:"dialog","aria-labelledby":_?C.value:null,style:c(c({zIndex:F},O),{display:g.value?null:"none"})},W),[d(Lo,y(y({},re(e,["scrollLocker"])),{},{style:R,class:z,onMousedown:i,onMouseup:p,ref:f,closable:H,ariaId:C.value,prefixCls:v,visible:x,onClose:u,onVisibleChanged:m,motionName:ge(v,X,A)}),n)])])}}}),_o=se(),jo=N({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:q(_o,{visible:!1}),setup(e,o){let{attrs:t,slots:n}=o;const a=G(e.visible);return Ye({},{inTriggerContext:!1}),Z(()=>e.visible,()=>{e.visible&&(a.value=!0)},{flush:"post"}),()=>{const{visible:s,getContainer:f,forceRender:g,destroyOnClose:C=!1,afterClose:m}=e;let u=c(c(c({},e),t),{ref:"_component",key:"dialog"});return f===!1?d(ye,y(y({},u),{},{getOpenCount:()=>2}),n):!g&&C&&!a.value?null:d($o,{autoLock:!0,visible:s,forceRender:g,getContainer:f},{default:r=>(u=c(c(c({},u),r),{afterClose:()=>{m==null||m(),a.value=!1}}),d(ye,u,n))})}}});function be(e){return{position:e,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const Vo=e=>{const{componentCls:o}=e;return[{[`${o}-root`]:{[`${o}${e.antCls}-zoom-enter, ${o}${e.antCls}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${o}${e.antCls}-zoom-leave ${o}-content`]:{pointerEvents:"none"},[`${o}-mask`]:c(c({},be("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,[`${o}-hidden`]:{display:"none"}}),[`${o}-wrap`]:c(c({},be("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${o}-root`]:Fo(e)}]},Go=e=>{const{componentCls:o}=e;return[{[`${o}-root`]:{[`${o}-wrap`]:{zIndex:e.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"},[`${o}-wrap-rtl`]:{direction:"rtl"},[`${o}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[o]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax})`]:{[o]:{maxWidth:"calc(100vw - 16px)",margin:`${e.marginXS} auto`},[`${o}-centered`]:{[o]:{flex:1}}}}},{[o]:c(c({},Te(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${e.margin*2}px)`,margin:"0 auto",paddingBottom:e.paddingLG,[`${o}-title`]:{margin:0,color:e.modalHeadingColor,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,wordWrap:"break-word"},[`${o}-content`]:{position:"relative",backgroundColor:e.modalContentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadowSecondary,pointerEvents:"auto",padding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`},[`${o}-close`]:c({position:"absolute",top:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,insetInlineEnd:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,zIndex:e.zIndexPopupBase+10,padding:0,color:e.modalCloseColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalConfirmIconSize,height:e.modalConfirmIconSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"block",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${e.modalCloseBtnSize}px`,textAlign:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.wireframe?"transparent":e.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:e.wireframe?"transparent":e.colorFillContentHover}},Je(e)),[`${o}-header`]:{color:e.colorText,background:e.modalHeaderBg,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,marginBottom:e.marginXS},[`${o}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word"},[`${o}-footer`]:{textAlign:"end",background:e.modalFooterBg,marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn:not(${e.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:e.marginXS}},[`${o}-open`]:{overflow:"hidden"}})},{[`${o}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${o}-content,
          ${o}-body,
          ${o}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${o}-confirm-body`]:{marginBottom:"auto"}}}]},ko=e=>{const{componentCls:o}=e,t=`${o}-confirm`;return{[t]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${t}-body-wrapper`]:c({},Ze()),[`${t}-body`]:{display:"flex",flexWrap:"wrap",alignItems:"center",[`${t}-title`]:{flex:"0 0 100%",display:"block",overflow:"hidden",color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,[`+ ${t}-content`]:{marginBlockStart:e.marginXS,flexBasis:"100%",maxWidth:`calc(100% - ${e.modalConfirmIconSize+e.marginSM}px)`}},[`${t}-content`]:{color:e.colorText,fontSize:e.fontSize},[`> ${e.iconCls}`]:{flex:"none",marginInlineEnd:e.marginSM,fontSize:e.modalConfirmIconSize,[`+ ${t}-title`]:{flex:1},[`+ ${t}-title + ${t}-content`]:{marginInlineStart:e.modalConfirmIconSize+e.marginSM}}},[`${t}-btns`]:{textAlign:"end",marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${t}-error ${t}-body > ${e.iconCls}`]:{color:e.colorError},[`${t}-warning ${t}-body > ${e.iconCls},
        ${t}-confirm ${t}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${t}-info ${t}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${t}-success ${t}-body > ${e.iconCls}`]:{color:e.colorSuccess},[`${o}-zoom-leave ${o}-btns`]:{pointerEvents:"none"}}},Xo=e=>{const{componentCls:o}=e;return{[`${o}-root`]:{[`${o}-wrap-rtl`]:{direction:"rtl",[`${o}-confirm-body`]:{direction:"rtl"}}}}},Ko=e=>{const{componentCls:o,antCls:t}=e,n=`${o}-confirm`;return{[o]:{[`${o}-content`]:{padding:0},[`${o}-header`]:{padding:e.modalHeaderPadding,borderBottom:`${e.modalHeaderBorderWidth}px ${e.modalHeaderBorderStyle} ${e.modalHeaderBorderColorSplit}`,marginBottom:0},[`${o}-body`]:{padding:e.modalBodyPadding},[`${o}-footer`]:{padding:`${e.modalFooterPaddingVertical}px ${e.modalFooterPaddingHorizontal}px`,borderTop:`${e.modalFooterBorderWidth}px ${e.modalFooterBorderStyle} ${e.modalFooterBorderColorSplit}`,borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`,marginTop:0}},[n]:{[`${t}-modal-body`]:{padding:`${e.padding*2}px ${e.padding*2}px ${e.paddingLG}px`},[`${n}-body`]:{[`> ${e.iconCls}`]:{marginInlineEnd:e.margin,[`+ ${n}-title + ${n}-content`]:{marginInlineStart:e.modalConfirmIconSize+e.margin}}},[`${n}-btns`]:{marginTop:e.marginLG}}}},Uo=we("Modal",e=>{const o=e.padding,t=e.fontSizeHeading5,n=e.lineHeightHeading5,a=Pe(e,{modalBodyPadding:e.paddingLG,modalHeaderBg:e.colorBgElevated,modalHeaderPadding:`${o}px ${e.paddingLG}px`,modalHeaderBorderWidth:e.lineWidth,modalHeaderBorderStyle:e.lineType,modalHeaderTitleLineHeight:n,modalHeaderTitleFontSize:t,modalHeaderBorderColorSplit:e.colorSplit,modalHeaderCloseSize:n*t+o*2,modalContentBg:e.colorBgElevated,modalHeadingColor:e.colorTextHeading,modalCloseColor:e.colorTextDescription,modalFooterBg:"transparent",modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterPaddingVertical:e.paddingXS,modalFooterPaddingHorizontal:e.padding,modalFooterBorderWidth:e.lineWidth,modalConfirmTitleFontSize:e.fontSizeLG,modalIconHoverColor:e.colorIconHover,modalConfirmIconSize:e.fontSize*e.lineHeight,modalCloseBtnSize:e.controlHeightLG*.55});return[Go(a),ko(a),Xo(a),Vo(a),e.wireframe&&Ko(a),Ae(a,"zoom")]});var Qo=function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)o.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};let le;const qo=e=>{le={x:e.pageX,y:e.pageY},setTimeout(()=>le=null,100)};ho()&&So(document.documentElement,"click",qo,!0);const Yo=()=>({prefixCls:String,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:w.any,closable:{type:Boolean,default:void 0},closeIcon:w.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:w.any,okText:w.any,okType:String,cancelText:w.any,icon:w.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:V(),cancelButtonProps:V(),destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:V(),maskStyle:V(),mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function,mousePosition:V()}),B=N({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:q(Yo(),{width:520,confirmLoading:!1,okType:"primary"}),setup(e,o){let{emit:t,slots:n,attrs:a}=o;const[s]=ie("Modal"),{prefixCls:f,rootPrefixCls:g,direction:C,getPopupContainer:m}=Fe("modal",e),[u,r]=Uo(f);Be(e.visible===void 0);const l=b=>{t("update:visible",!1),t("update:open",!1),t("cancel",b),t("change",!1)},i=b=>{t("ok",b)},p=()=>{var b,$;const{okText:v=(b=n.okText)===null||b===void 0?void 0:b.call(n),okType:h,cancelText:x=($=n.cancelText)===null||$===void 0?void 0:$.call(n),confirmLoading:P}=e;return d(Ie,null,[d(te,y({onClick:l},e.cancelButtonProps),{default:()=>[x||s.value.cancelText]}),d(te,y(y({},He(h)),{},{loading:P,onClick:i},e.okButtonProps),{default:()=>[v||s.value.okText]})])};return()=>{var b,$;const{prefixCls:v,visible:h,open:x,wrapClassName:P,centered:T,getContainer:F,closeIcon:I=(b=n.closeIcon)===null||b===void 0?void 0:b.call(n),focusTriggerAfterClose:M=!0}=e,O=Qo(e,["prefixCls","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),H=k(P,{[`${f.value}-centered`]:!!T,[`${f.value}-wrap-rtl`]:C.value==="rtl"});return u(d(jo,y(y(y({},O),a),{},{rootClassName:r.value,class:k(r.value,a.class),getContainer:F||(m==null?void 0:m.value),prefixCls:f.value,wrapClassName:H,visible:x??h,onClose:l,focusTriggerAfterClose:M,transitionName:Q(g.value,"zoom",e.transitionName),maskTransitionName:Q(g.value,"fade",e.maskTransitionName),mousePosition:($=O.mousePosition)!==null&&$!==void 0?$:le}),c(c({},n),{footer:n.footer||p,closeIcon:()=>d("span",{class:`${f.value}-close-x`},[I||d(eo,{class:`${f.value}-close-icon`},null)])})))}}}),Jo=()=>{const e=S(!1);return ae(()=>{e.value=!0}),e},Zo={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:V(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function xe(e){return!!(e&&e.then)}const $e=N({compatConfig:{MODE:3},name:"ActionButton",props:Zo,setup(e,o){let{slots:t}=o;const n=S(!1),a=S(),s=S(!1);let f;const g=Jo();oo(()=>{e.autofocus&&(f=setTimeout(()=>{var r,l;return(l=(r=no(a.value))===null||r===void 0?void 0:r.focus)===null||l===void 0?void 0:l.call(r)}))}),ae(()=>{clearTimeout(f)});const C=function(){for(var r,l=arguments.length,i=new Array(l),p=0;p<l;p++)i[p]=arguments[p];(r=e.close)===null||r===void 0||r.call(e,...i)},m=r=>{xe(r)&&(s.value=!0,r.then(function(){g.value||(s.value=!1),C(...arguments),n.value=!1},l=>(g.value||(s.value=!1),n.value=!1,Promise.reject(l))))},u=r=>{const{actionFn:l}=e;if(n.value)return;if(n.value=!0,!l){C();return}let i;if(e.emitEvent){if(i=l(r),e.quitOnNullishReturnValue&&!xe(i)){n.value=!1,C(r);return}}else if(l.length)i=l(e.close),n.value=!1;else if(i=l(),!i){C();return}m(i)};return()=>{const{type:r,prefixCls:l,buttonProps:i}=e;return d(te,y(y(y({},He(r)),{},{onClick:u,loading:s.value,prefixCls:l},i),{},{ref:a}),t)}}});function j(e){return typeof e=="function"?e():e}const Re=N({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","open","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName","confirmPrefixCls","footer"],setup(e,o){let{attrs:t}=o;const[n]=ie("Modal");return()=>{const{icon:a,onCancel:s,onOk:f,close:g,okText:C,closable:m=!1,zIndex:u,afterClose:r,keyboard:l,centered:i,getContainer:p,maskStyle:b,okButtonProps:$,cancelButtonProps:v,okCancel:h,width:x=416,mask:P=!0,maskClosable:T=!1,type:F,open:I,title:M,content:O,direction:H,closeIcon:E,modalRender:L,focusTriggerAfterClose:X,rootPrefixCls:A,bodyStyle:W,wrapClassName:_,footer:R}=e;let z=a;if(!a&&a!==null)switch(F){case"info":z=d(io,null,null);break;case"success":z=d(ao,null,null);break;case"error":z=d(lo,null,null);break;default:z=d(to,null,null)}const ee=e.okType||"primary",oe=e.prefixCls||"ant-modal",K=`${oe}-confirm`,Ve=t.style||{},ce=h??F==="confirm",de=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",J=`${oe}-confirm`,Ge=k(J,`${J}-${e.type}`,{[`${J}-rtl`]:H==="rtl"},t.class),ne=n.value,ke=ce&&d($e,{actionFn:s,close:g,autofocus:de==="cancel",buttonProps:v,prefixCls:`${A}-btn`},{default:()=>[j(e.cancelText)||ne.cancelText]});return d(B,{prefixCls:oe,class:Ge,wrapClassName:k({[`${J}-centered`]:!!i},_),onCancel:Xe=>g==null?void 0:g({triggerCancel:!0},Xe),open:I,title:"",footer:"",transitionName:Q(A,"zoom",e.transitionName),maskTransitionName:Q(A,"fade",e.maskTransitionName),mask:P,maskClosable:T,maskStyle:b,style:Ve,bodyStyle:W,width:x,zIndex:u,afterClose:r,keyboard:l,centered:i,getContainer:p,closable:m,closeIcon:E,modalRender:L,focusTriggerAfterClose:X},{default:()=>[d("div",{class:`${K}-body-wrapper`},[d("div",{class:`${K}-body`},[j(z),M===void 0?null:d("span",{class:`${K}-title`},[j(M)]),d("div",{class:`${K}-content`},[j(O)])]),R!==void 0?j(R):d("div",{class:`${K}-btns`},[ke,d($e,{type:ee,actionFn:f,close:g,autofocus:de==="ok",buttonProps:$,prefixCls:`${A}-btn`},{default:()=>[j(C)||(ce?ne.okText:ne.justOkText)]})])])]})}}}),D=[],Y=e=>{const o=document.createDocumentFragment();let t=c(c({},re(e,["parentContext","appContext"])),{close:s,open:!0}),n=null;function a(){n&&(me(null,o),n=null);for(var m=arguments.length,u=new Array(m),r=0;r<m;r++)u[r]=arguments[r];const l=u.some(i=>i&&i.triggerCancel);e.onCancel&&l&&e.onCancel(()=>{},...u.slice(1));for(let i=0;i<D.length;i++)if(D[i]===s){D.splice(i,1);break}}function s(){for(var m=arguments.length,u=new Array(m),r=0;r<m;r++)u[r]=arguments[r];t=c(c({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),a.apply(this,u)}}),t.visible&&delete t.visible,f(t)}function f(m){typeof m=="function"?t=m(t):t=c(c({},t),m),n&&wo(n,t,o)}const g=m=>{const u=ro,r=u.prefixCls,l=m.prefixCls||`${r}-modal`,i=u.iconPrefixCls,p=so();return d(co,y(y({},u),{},{prefixCls:r}),{default:()=>[d(Re,y(y({},m),{},{rootPrefixCls:r,prefixCls:l,iconPrefixCls:i,locale:p,cancelText:m.cancelText||p.cancelText}),null)]})};function C(m){const u=d(g,c({},m));return u.appContext=e.parentContext||e.appContext||u.appContext,me(u,o),u}return n=C(t),D.push(s),{destroy:s,update:f}};function De(e){return c(c({},e),{type:"warning"})}function Ee(e){return c(c({},e),{type:"info"})}function Le(e){return c(c({},e),{type:"success"})}function We(e){return c(c({},e),{type:"error"})}function _e(e){return c(c({},e),{type:"confirm"})}const en=()=>({config:Object,afterClose:Function,destroyAction:Function,open:Boolean}),on=N({name:"HookModal",inheritAttrs:!1,props:q(en(),{config:{width:520,okType:"primary"}}),setup(e,o){let{expose:t}=o;var n;const a=U(()=>e.open),s=U(()=>e.config),{direction:f,getPrefixCls:g}=uo(),C=g("modal"),m=g(),u=()=>{var p,b;e==null||e.afterClose(),(b=(p=s.value).afterClose)===null||b===void 0||b.call(p)},r=function(){e.destroyAction(...arguments)};t({destroy:r});const l=(n=s.value.okCancel)!==null&&n!==void 0?n:s.value.type==="confirm",[i]=ie("Modal",fo.Modal);return()=>d(Re,y(y({prefixCls:C,rootPrefixCls:m},s.value),{},{close:r,open:a.value,afterClose:u,okText:s.value.okText||(l?i==null?void 0:i.value.okText:i==null?void 0:i.value.justOkText),direction:s.value.direction||f.value,cancelText:s.value.cancelText||(i==null?void 0:i.value.cancelText)}),null)}});let he=0;const nn=N({name:"ElementsHolder",inheritAttrs:!1,setup(e,o){let{expose:t}=o;const n=S([]);return t({addModal:s=>(n.value.push(s),n.value=n.value.slice(),()=>{n.value=n.value.filter(f=>f!==s)})}),()=>n.value.map(s=>s())}});function tn(){const e=S(null),o=S([]);Z(o,()=>{o.value.length&&([...o.value].forEach(f=>{f()}),o.value=[])},{immediate:!0});const t=s=>function(g){var C;he+=1;const m=S(!0),u=S(null),r=S(mo(g)),l=S({});Z(()=>g,x=>{$(c(c({},po(x)?x.value:x),l.value))});const i=function(){m.value=!1;for(var x=arguments.length,P=new Array(x),T=0;T<x;T++)P[T]=arguments[T];const F=P.some(I=>I&&I.triggerCancel);r.value.onCancel&&F&&r.value.onCancel(()=>{},...P.slice(1))};let p;const b=()=>d(on,{key:`modal-${he}`,config:s(r.value),ref:u,open:m.value,destroyAction:i,afterClose:()=>{p==null||p()}},null);p=(C=e.value)===null||C===void 0?void 0:C.addModal(b),p&&D.push(p);const $=x=>{r.value=c(c({},r.value),x)};return{destroy:()=>{u.value?i():o.value=[...o.value,i]},update:x=>{l.value=x,u.value?$(x):o.value=[...o.value,()=>$(x)]}}},n=U(()=>({info:t(Ee),success:t(Le),error:t(We),warning:t(De),confirm:t(_e)})),a=Symbol("modalHolderKey");return[n.value,()=>d(nn,{key:a,ref:e},null)]}function je(e){return Y(De(e))}B.useModal=tn;B.info=function(o){return Y(Ee(o))};B.success=function(o){return Y(Le(o))};B.error=function(o){return Y(We(o))};B.warning=je;B.warn=je;B.confirm=function(o){return Y(_e(o))};B.destroyAll=function(){for(;D.length;){const o=D.pop();o&&o()}};B.install=function(e){return e.component(B.name,B),e};export{$e as A,B as M,cn as P};
